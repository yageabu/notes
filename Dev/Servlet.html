<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第一个Servlet | 阿BU的技术笔记</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/notes/favicon.ico">
    <meta name="description" content="Hack Everything">
    <meta name="author" content="谢星煌">
    <meta name="keywords" content="Java Vue 运维 云原生 DevOps 敏捷 项目管理 大数据">
    
    <link rel="preload" href="/notes/assets/css/0.styles.74f437bc.css" as="style"><link rel="preload" href="/notes/assets/js/app.ae091ad1.js" as="script"><link rel="preload" href="/notes/assets/js/2.29230202.js" as="script"><link rel="preload" href="/notes/assets/js/1.adb73c09.js" as="script"><link rel="preload" href="/notes/assets/js/26.04c8f25e.js" as="script"><link rel="prefetch" href="/notes/assets/js/10.acd366ff.js"><link rel="prefetch" href="/notes/assets/js/11.2689ba83.js"><link rel="prefetch" href="/notes/assets/js/12.137a9576.js"><link rel="prefetch" href="/notes/assets/js/13.786f62b7.js"><link rel="prefetch" href="/notes/assets/js/14.91be0496.js"><link rel="prefetch" href="/notes/assets/js/15.9f59e3b5.js"><link rel="prefetch" href="/notes/assets/js/16.47e1d84d.js"><link rel="prefetch" href="/notes/assets/js/17.368b07ea.js"><link rel="prefetch" href="/notes/assets/js/18.8241d824.js"><link rel="prefetch" href="/notes/assets/js/19.56a0d05b.js"><link rel="prefetch" href="/notes/assets/js/20.8f60a139.js"><link rel="prefetch" href="/notes/assets/js/21.e21ffad3.js"><link rel="prefetch" href="/notes/assets/js/22.aae0eee4.js"><link rel="prefetch" href="/notes/assets/js/23.cb4e87e9.js"><link rel="prefetch" href="/notes/assets/js/24.d416e8b8.js"><link rel="prefetch" href="/notes/assets/js/25.408393a0.js"><link rel="prefetch" href="/notes/assets/js/27.dad74f91.js"><link rel="prefetch" href="/notes/assets/js/28.8352828c.js"><link rel="prefetch" href="/notes/assets/js/29.b19f8b93.js"><link rel="prefetch" href="/notes/assets/js/3.8af8fcbf.js"><link rel="prefetch" href="/notes/assets/js/30.2c1c9877.js"><link rel="prefetch" href="/notes/assets/js/31.8a3ca1e7.js"><link rel="prefetch" href="/notes/assets/js/4.0471e9ae.js"><link rel="prefetch" href="/notes/assets/js/5.842b4107.js"><link rel="prefetch" href="/notes/assets/js/6.9f813617.js"><link rel="prefetch" href="/notes/assets/js/7.deca3814.js"><link rel="prefetch" href="/notes/assets/js/vendors~docsearch.934ed2fb.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.74f437bc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes/" class="home-link router-link-active"><img src="/notes/assets/img/logo.png" alt="阿BU的技术笔记" class="logo"> <span class="site-name can-hide">阿BU的技术笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notes/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/notes/about.html" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术手册" class="dropdown-title"><span class="title">技术手册</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术手册" class="mobile-dropdown-title"><span class="title">技术手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/DevOps/" class="nav-link">
  运维
</a></li><li class="dropdown-item"><!----> <a href="/notes/Dev/" class="nav-link router-link-active">
  后端
</a></li><li class="dropdown-item"><!----> <a href="/notes/Front_end/" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/notes/Bigdata/" class="nav-link">
  大数据
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="管理手册" class="dropdown-title"><span class="title">管理手册</span> <span class="arrow down"></span></button> <button type="button" aria-label="管理手册" class="mobile-dropdown-title"><span class="title">管理手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/Bigdata/" class="nav-link">
  敏捷转型
</a></li><li class="dropdown-item"><!----> <a href="/notes/Bigdata/" class="nav-link">
  Jira说明书
</a></li><li class="dropdown-item"><!----> <a href="/notes/Bigdata/" class="nav-link">
  人生操作系统使用手册
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/yageabu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notes/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/notes/about.html" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术手册" class="dropdown-title"><span class="title">技术手册</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术手册" class="mobile-dropdown-title"><span class="title">技术手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/DevOps/" class="nav-link">
  运维
</a></li><li class="dropdown-item"><!----> <a href="/notes/Dev/" class="nav-link router-link-active">
  后端
</a></li><li class="dropdown-item"><!----> <a href="/notes/Front_end/" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/notes/Bigdata/" class="nav-link">
  大数据
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="管理手册" class="dropdown-title"><span class="title">管理手册</span> <span class="arrow down"></span></button> <button type="button" aria-label="管理手册" class="mobile-dropdown-title"><span class="title">管理手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/Bigdata/" class="nav-link">
  敏捷转型
</a></li><li class="dropdown-item"><!----> <a href="/notes/Bigdata/" class="nav-link">
  Jira说明书
</a></li><li class="dropdown-item"><!----> <a href="/notes/Bigdata/" class="nav-link">
  人生操作系统使用手册
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/yageabu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/notes/Dev/" aria-current="page" class="sidebar-link">关于自学编程这件事</a></li><li><a href="/notes/Dev/four.html" class="sidebar-link">Java基础</a></li><li><a href="/notes/Dev/Servlet.html" aria-current="page" class="active sidebar-link">第一个Servlet</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/Dev/Servlet.html#servlet是sun公司定义的一个接口-是一门动态web技术" class="sidebar-link">Servlet是SUN公司定义的一个接口，是一门动态Web技术</a></li><li class="sidebar-sub-header"><a href="/notes/Dev/Servlet.html#开发servlet的两个步骤" class="sidebar-link">开发Servlet的两个步骤：</a></li><li class="sidebar-sub-header"><a href="/notes/Dev/Servlet.html#写servlet映射" class="sidebar-link">写Servlet映射</a></li><li class="sidebar-sub-header"><a href="/notes/Dev/Servlet.html#导入servlet-maven依赖" class="sidebar-link">导入Servlet Maven依赖</a></li><li class="sidebar-sub-header"><a href="/notes/Dev/Servlet.html#在配置好环境以后-我们就可以写我们的servlet代码了" class="sidebar-link">在配置好环境以后，我们就可以写我们的Servlet代码了</a></li><li class="sidebar-sub-header"><a href="/notes/Dev/Servlet.html#配置web-xml映射" class="sidebar-link">配置web.xml映射</a></li><li class="sidebar-sub-header"><a href="/notes/Dev/Servlet.html#servlet执行流程-生命周期" class="sidebar-link">Servlet执行流程(生命周期)</a></li><li class="sidebar-sub-header"><a href="/notes/Dev/Servlet.html#servletcontext应用" class="sidebar-link">ServletContext应用</a></li><li class="sidebar-sub-header"><a href="/notes/Dev/Servlet.html#tips-程序入口" class="sidebar-link">Tips：程序入口</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第一个servlet"><a href="#第一个servlet" class="header-anchor">#</a> 第一个Servlet</h1> <h2 id="servlet是sun公司定义的一个接口-是一门动态web技术"><a href="#servlet是sun公司定义的一个接口-是一门动态web技术" class="header-anchor">#</a> Servlet是SUN公司定义的一个接口，是一门动态Web技术</h2> <h2 id="开发servlet的两个步骤"><a href="#开发servlet的两个步骤" class="header-anchor">#</a> 开发Servlet的两个步骤：</h2> <div class="language- extra-class"><pre><code>定义一个类，实现Servlet接口，重写service()方法，用于接收Request和Response对象
Sun公司制定了两个实现类HttpServlet和GenericServlet（父），所以我们继承这两个类就相当于继承了Servlet接口。
我们要重写HttpServlet的doGet()和doPost()
</code></pre></div><h2 id="写servlet映射"><a href="#写servlet映射" class="header-anchor">#</a> 写Servlet映射</h2> <div class="language- extra-class"><pre><code>在web.xml中的&lt;servlet&gt;注册包的全限定名，在&lt;servlet-mapping&gt;配置访问路径，（如果配置通配符/*）Servlet优先级会高于index.jsp文件
用固定后缀如*.do，前面不能加/（*号前不能加映射路径）
固定路径优先级大于通用路径
</code></pre></div><h2 id="导入servlet-maven依赖"><a href="#导入servlet-maven依赖" class="header-anchor">#</a> 导入Servlet Maven依赖</h2> <div class="language-xml extra-class"><pre class="language-xml"><code>        <span class="token comment">&lt;!--        Servlet依赖--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--        JSP依赖--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet.jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--        jstl表达式的依赖--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--        standar标签库--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>taglibs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>standard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="在配置好环境以后-我们就可以写我们的servlet代码了"><a href="#在配置好环境以后-我们就可以写我们的servlet代码了" class="header-anchor">#</a> 在配置好环境以后，我们就可以写我们的Servlet代码了</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xiexinghuang<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//响应流</span>
        writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;你好，Servlet&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token comment">//        super.doPost(req, resp);</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="配置web-xml映射"><a href="#配置web-xml映射" class="header-anchor">#</a> 配置web.xml映射</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Servlet别名 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.xiexinghuang.servlet.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 将Servlet和URL绑定 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="servlet执行流程-生命周期"><a href="#servlet执行流程-生命周期" class="header-anchor">#</a> Servlet执行流程(生命周期)</h2> <p><img src="/assets/img/Servlet%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png" alt="Servlet生命周期"></p> <p>按照功能的不同，大致可以将 Servlet 的生命周期分为三个阶段，分别是初始化阶段、运行阶段和销毁阶段。</p> <p>1）初始化阶段
当客户端向 Servlet 容器发出 HTTP 请求要求访问 Servlet 时，Servlet 容器首先会解析请求，检查内存中是否已经有了该 Servlet 对象，如果有，则直接使用该 Servlet 对象，如果没有，则创建 Servlet 实例对象，然后通过调用 init() 方法实现 Servlet 的初始化工作。需要注意的是，在 Servlet 的整个生命周期内，它的 init() 方法只能被调用一次。</p> <p>2）运行阶段
这是 Servlet 生命周期中最重要的阶段，在这个阶段中，Servlet 容器会为这个请求创建代表 HTTP 请求的 ServletRequest 对象和代表 HTTP 响应的 ServletResponse 对象，然后将它们作为参数传递给 Servlet 的 service() 方法。</p> <p>service() 方法从 ServletRequest 对象中获得客户请求信息并处理该请求，通过 ServletResponse 对象生成响应结果。</p> <p>在 Servlet 的整个生命周期内，对于 Servlet 的每一次访问请求，Servlet 容器都会调用一次 Servlet 的 service() 方法，并且创建新的 ServletRequest 和 ServletResponse 对象，也就是说，service() 方法在 Servlet 的整个生命周期中会被调用多次。</p> <p>3）销毁阶段
当服务器关闭或 Web 应用被移除出容器时，Servlet 随着 Web 应用的关闭而销毁。在销毁 Servlet 之前，Servlet 容器会调用 Servlet 的 destroy() 方法，以便让 Servlet 对象释放它所占用的资源。在 Servlet 的整个生命周期中，destroy() 方法也只能被调用一次。</p> <p>需要注意的是，Servlet 对象一旦创建就会驻留在内存中等待客户端的访问，直到服务器关闭或 Web 应用被移除出容器时，Servlet 对象才会销毁。</p> <h2 id="servletcontext应用"><a href="#servletcontext应用" class="header-anchor">#</a> ServletContext应用</h2> <h3 id="共享数据"><a href="#共享数据" class="header-anchor">#</a> 共享数据</h3> <p>ServletContext是所有Servlet共用的对象，可以用来共享数据
在A Servlet中创建并赋值</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;阿BU&quot;</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在B Servlet中可以取出来，但是A要先被访问到且创建出来</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="获取初始化参数"><a href="#获取初始化参数" class="header-anchor">#</a> 获取初始化参数</h3> <p>context.getInitParameter(&quot;xxx&quot;)：可以获取到web.xml的配置信息
<img src="/assets/img/Servlet-%E8%8E%B7%E5%8F%96%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0.png" alt="Servlet-获取初始化参数"></p> <h3 id="请求转发"><a href="#请求转发" class="header-anchor">#</a> 请求转发</h3> <p>context.getRequestDispatcher(&quot;/xxx&quot;).forward(req,resp)：请求转发到其他servlet，不是重定向</p> <h3 id="获取资源路径"><a href="#获取资源路径" class="header-anchor">#</a> 获取资源路径</h3> <p>context.getResourceAsStream(&quot;打包后的相对路径&quot;)
<img src="/assets/img/Servlet-%E8%8E%B7%E5%8F%96%E8%B5%84%E6%BA%90%E8%B7%AF%E5%BE%84.png" alt="Servlet-获取资源路径"></p> <h2 id="tips-程序入口"><a href="#tips-程序入口" class="header-anchor">#</a> Tips：程序入口</h2> <p>在一个web项目中，我们好像没有看到java程序中眼熟的public static void main作为程序执行的入口，由虚拟机调用。
那么web项目中到底存在main吗？
答案是肯定的，只不过main并不由我们写，容器提供了。
比如我们的项目部署到Tomcat容器，main()在Tomcat的BootStrap类里面，web应用启动是不会执行类中的main方法的，只会调用Tomcat的main，然后通过web.xml的配置去加载其它类，我们平时写的main()，只是用来测试用的
位置：d:\apache-tomcat-7.0.105\bin\bootstrap.jar
<img src="/assets/img/Servlet-%E7%A8%8B%E5%BA%8F%E5%85%A5%E5%8F%A3.png" alt="Servlet-程序入口"></p> <p>所以说我们写的代码 + Tomcat才是完整的一个程序。
虽然开发人员可以在类中写main方法用于测试，但是对于整个程序的执行流程没有影响。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2022-12-15</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes/Dev/four.html" class="prev">
        Java基础
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/notes/assets/js/app.ae091ad1.js" defer></script><script src="/notes/assets/js/2.29230202.js" defer></script><script src="/notes/assets/js/1.adb73c09.js" defer></script><script src="/notes/assets/js/26.04c8f25e.js" defer></script>
  </body>
</html>
